================================================================================
VERSION MANAGEMENT PROJECT - MIGRATION VISUAL GUIDE
================================================================================

CURRENT STRUCTURE:
  incoming/crampus/version-management/
  ├── version_management/
  │   ├── __init__.py                    [17 lines] Package exports
  │   ├── version_manager.py             [305 lines] Core orchestration
  │   ├── commit_parser.py               [124 lines] Git commit parsing
  │   ├── changelog_generator.py         [230 lines] Markdown generation
  │   ├── project_parser.py              [81 lines] pyproject.toml parsing
  │   └── cli.py                         [205 lines] Typer CLI interface
  ├── tests/
  │   ├── __init__.py
  │   └── test_project_parser.py         [101 lines] 5 test cases
  ├── pyproject.toml                     [82 lines] Project config
  ├── README.md                          [238 lines] Documentation
  └── ideas.md                           [122 lines] Vision/design

  TOTAL: ~1,500 lines of code (including tests & docs)

TARGET STRUCTURE:
  src/dot_work/version/
  ├── __init__.py                        [Refactored from package init]
  ├── version_manager.py                 [Import updated]
  ├── commit_parser.py                   [Import updated]
  ├── changelog_generator.py             [Import updated]
  ├── project_parser.py                  [Import updated]
  └── cli.py                             [Integrated into dot-work CLI]

  tests/unit/version/
  ├── __init__.py
  ├── test_project_parser.py             [Import updated]
  ├── test_version_manager.py            [NEW - currently missing]
  ├── test_commit_parser.py              [NEW - currently missing]
  ├── test_changelog_generator.py        [NEW - currently missing]
  └── test_cli.py                        [NEW - currently missing]

================================================================================
DEPENDENCY GRAPH
================================================================================

                    CLI (cli.py)
                        |
                        |
          ┌─────────────┼─────────────┐
          |             |             |
    VersionManager  Typer/Rich    Project
      (main API)      (CLI UI)      Parser
          |                           |
          ├─ CommitParser         PyProject
          ├─ ChangelogGenerator       |
          └─ ProjectParser            └─ Tomllib/Tomli
              |
              └─ GitPython


EXTERNAL DEPENDENCIES REQUIRED:
  ✓ GitPython        (for git.Repo operations)
  ✓ Jinja2           (for changelog templates)
  ✓ Typer            (for CLI - already in dot-work)
  ✓ Rich             (for console UI - already in dot-work)
  ? tomli            (conditional: Python < 3.11 only)
  ✗ pydantic         (listed but unused - REMOVE)
  ✗ python-dotenv    (listed but unused - REMOVE)

================================================================================
CLASS HIERARCHY & DATA FLOW
================================================================================

1. INITIALIZATION
   ┌────────────────────────────────────┐
   │ VersionManager(project_root: Path) │
   └──────────────────┬─────────────────┘
                      │
        ┌─────────────┴──────────────┐
        │                            │
   Repo(git.Repo)         PyProjectParser
        │                            │
        └─ git tags         ┌────────┴──────┐
        └─ commits          │                │
        └─ commits since    pyproject.toml   ProjectInfo
             specific tag        (dict)      (name, desc, version)


2. VERSION CALCULATION
   ┌──────────────────────────────────┐
   │ calculate_next_version(current)  │
   └────────────────┬─────────────────┘
                    │
         Logic: YYYY.MM.NNNNN format
         If same month: increment NNNNN
         If new month: reset NNNNN to 00001


3. FREEZE WORKFLOW
   ┌────────────────────────┐
   │ freeze_version(llm,    │
   │    dry_run)            │
   └────────┬───────────────┘
            │
   ┌────────┴─────────────────────────────────────┐
   │                                               │
   v                                               v
get_commits_since_tag()                   calculate_next_version()
   │                                               │
   └──> ConventionalCommitParser                  │
        ├─ parse_commit()                         │
        ├─ group_commits_by_type()               │
        └─ List[CommitInfo]                      │
                │                                 │
                └─────────────┬───────────────────┘
                              │
                    ┌─────────v─────────┐
                    │ ChangelogGenerator│
                    └──────────┬────────┘
                               │
                ┌──────────────┼──────────────┐
                │              │              │
              Jinja2      commit_count    _count_
            Template      statistics    contributors()
                │              │              │
                └──────────────┴──────────────┘
                              │
                    ┌─────────v─────────┐
                    │ ChangelogEntry    │
                    │ (markdown string) │
                    └───────────────────┘
                              │
        ┌─────────────────────┼─────────────────────┐
        │                     │                     │
   git.create_tag()   version.json       CHANGELOG.md
                      (updated)          (prepended)


4. CLI COMMANDS
   ┌──────────────────┐
   │ typer app: Typer │
   └────────┬─────────┘
            │
   ┌────────┴────────────────────────────────────┐
   │                                              │
   init/freeze/show/history/commits/config       │
   │                                              │
   └─ Rich console output (tables, colors)


================================================================================
IMPORT UPDATES REQUIRED
================================================================================

BEFORE (version-management package):
  from version_management.version_manager import VersionManager
  from version_management.changelog_generator import ChangelogGenerator
  from version_management.commit_parser import ConventionalCommitParser
  from version_management.project_parser import PyProjectParser

AFTER (dot_work.version module):
  from dot_work.version.version_manager import VersionManager
  from dot_work.version.changelog_generator import ChangelogGenerator
  from dot_work.version.commit_parser import ConventionalCommitParser
  from dot_work.version.project_parser import PyProjectParser

FILES TO UPDATE:
  1. src/dot_work/version/__init__.py        (6 import statements)
  2. src/dot_work/version/version_manager.py  (3 import statements)
  3. src/dot_work/version/changelog_generator.py (1 import statement)
  4. src/dot_work/version/cli.py              (1 import statement)
  5. tests/unit/version/test_*.py             (1 import per file)


================================================================================
CRITICAL ISSUES SUMMARY
================================================================================

ISSUE 1: Pydantic Unused
  - Listed in dependencies but never imported
  - IMPACT: Dependency bloat
  - ACTION: Remove from pyproject.toml

ISSUE 2: LLM Feature Incomplete
  - --llm flag in CLI doesn't work
  - generate_summary() has TODO comment
  - IMPACT: False advertised feature
  - ACTION: Implement or remove flag

ISSUE 3: Config File Ignored
  - .version-management.yaml is loaded but never used
  - Hardcoded defaults shadow config
  - IMPACT: User config changes have no effect
  - ACTION: Implement config usage or remove loading

ISSUE 4: Git Repo Not Validated
  - Crashes if project_root isn't a git repo
  - No error handling for invalid repos
  - IMPACT: Poor error messages
  - ACTION: Add validation with clear errors

ISSUE 5: Circular Import Pattern
  - Imports ins
